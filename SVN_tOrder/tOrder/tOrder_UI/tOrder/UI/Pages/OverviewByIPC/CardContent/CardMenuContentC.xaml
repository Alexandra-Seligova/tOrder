<UserControl
    x:Class="tOrder.UI.CardMenuContentC"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="using:tOrder.UI"
    xmlns:models="using:tOrder.UI"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    mc:Ignorable="d"
   >

    <Grid x:Name="Menu"
          Background="White"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
           Padding="0,4,0,4"
          >
        <ItemsControl ItemsSource="{x:Bind MenuItems, Mode=OneWay}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <controls:UniformGrid Columns="3" Rows="3" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate x:DataType="models:MenuItemM">
                    <Button
                        Margin="1"
                        MinHeight="64"
                        Background="{StaticResource PrimaryColor}"
                        Foreground="White"
                        Content="{x:Bind Text}"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        Click="MenuButton_Click">

                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Grid x:Name="RootGrid" Background="{TemplateBinding Background}">
                                    <TextBlock x:Name="TextBlock"
                                               Text="{TemplateBinding Content}"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="12"
                                               TextWrapping="Wrap"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Center"
                                               TextAlignment="Center" />

                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal" />
                                            <VisualState x:Name="PointerOver">
                                                <VisualState.Setters>
                                                    <Setter Target="RootGrid.Background" Value="White" />
                                                    <Setter Target="TextBlock.Foreground" Value="Black" />
                                                </VisualState.Setters>
                                            </VisualState>
                                            <VisualState x:Name="Pressed">
                                                <VisualState.Setters>
                                                    <Setter Target="RootGrid.Background" Value="#EEEEEE" />
                                                    <Setter Target="TextBlock.Foreground" Value="Black" />
                                                </VisualState.Setters>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                </Grid>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Grid>
</UserControl>
