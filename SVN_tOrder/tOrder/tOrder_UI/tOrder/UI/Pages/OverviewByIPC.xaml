<!--
===========================================================================
📄 OverviewByIPC.xaml
===========================================================================

Page responsible for displaying machine cards by IPC grouping.
Uses WrapGrid layout inside ItemsControl for dynamic layout behavior.

ViewModel: OverviewByIPCVM
Bound to: ObservableCollection<CapacityPositionCardVM> → displayed via <MachineCard/>

Layout:
- Column 0: Left padding (52px)
- Column 1: Main content (WrapGrid)
- Column 2: Right padding (52px)
===========================================================================
-->

<Page
    x:Class="tOrder.UI.OverviewByIPC"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:tOrder.UI"
    xmlns:controls="using:tOrder.UI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource BackgroundColor}">


    <Grid>
        <Viewbox x:Name="MainScaleBox" Stretch="Uniform">
            <Grid Width="1280" Height="720" 
                  RenderTransformOrigin="0.5,0.5">
                <Grid.RenderTransform>
                    <ScaleTransform 
                        ScaleX="{StaticResource GlobalScaleFactor}"
                        ScaleY="{StaticResource GlobalScaleFactor}" />
                </Grid.RenderTransform>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="52" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="52" />
                </Grid.ColumnDefinitions>

                <ItemsControl Grid.Column="1"
                              ItemsSource="{x:Bind ViewModel.CapacityCards, Mode=OneWay}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapGrid Orientation="Horizontal"
                                      HorizontalAlignment="Left"
                                      Margin="0,20,0,0" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate x:DataType="controls:CapacityPositionCardVM">
                            <controls:CapacityPositionCard />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

            </Grid>
        </Viewbox>
    </Grid>
</Page>