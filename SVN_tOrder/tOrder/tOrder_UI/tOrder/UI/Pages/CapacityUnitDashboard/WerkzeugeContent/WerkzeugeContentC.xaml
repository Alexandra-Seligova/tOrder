<UserControl
    x:Class="tOrder.UI.WerkzeugeContentC"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:tOrder.UI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:toolkit="using:CommunityToolkit.WinUI.UI.Controls"
        xmlns:common="using:tOrder.Common"

    mc:Ignorable="d"
    d:DesignWidth="1024"
    d:DesignHeight="768"
>

    <UserControl.Resources>
        <common:BindingProxy x:Key="LayoutConfigProxy"
                x:Name="LayoutConfigProxy"
                Data="{x:Bind LayoutConfig, Mode=OneWay}" />


        <x:Double x:Key="FooterButtonMinWidth">140</x:Double>
        <x:Double x:Key="FooterButtonHeight">38</x:Double>
        <x:Double x:Key="FooterButtonFontSize">16</x:Double>
        <CornerRadius x:Key="FooterButtonCornerRadius">4</CornerRadius>
        <Thickness x:Key="FooterButtonMarginThickness">6,0,6,0</Thickness>
        <x:Double x:Key="FooterButtonViewboxHeight">22</x:Double>

        <Style x:Key="CellGreen" TargetType="Border">
            <Setter Property="Background" Value="#eaffec"/>
            <Setter Property="BorderBrush" Value="#21ac21"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="3"/>
            <Setter Property="Margin" Value="2"/>
        </Style>
        <Style x:Key="CellYellow" TargetType="Border">
            <Setter Property="Background" Value="#fff9e0"/>
            <Setter Property="BorderBrush" Value="#ffe066"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="3"/>
            <Setter Property="Margin" Value="2"/>
        </Style>
        <Style x:Key="CellRed" TargetType="Border">
            <Setter Property="Background" Value="#FFD5D5"/>
            <Setter Property="BorderBrush" Value="#F44336"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="3"/>
            <Setter Property="Margin" Value="2"/>
        </Style>

        <Style x:Key="DataGridCellTextStyle" TargetType="TextBlock">
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
            <Setter Property="TextWrapping" Value="NoWrap"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>



    </UserControl.Resources>

    <Grid Background="#F5F7FA" Padding="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- TABULKA -->
        <Viewbox  Grid.Row="0" x:Name="DashboardContentHeaderViewbox" Stretch="Uniform" Height="Auto"  VerticalAlignment="Top">
            <Grid x:Name="DashboardContentHeaderContainer"  
                  Width="{Binding Source={StaticResource LayoutConfigProxy}, Path=Data.DesignWidth}"
             Background="#F6F6F6"
         >
                <toolkit:DataGrid x:Name="WerkzeugeDataGrid"
                          AutoGenerateColumns="False"
                          HeadersVisibility="Column"
                          GridLinesVisibility="All"
                          IsReadOnly="True"
                          RowHeight="32"
                          SelectionMode="Single"
                          BorderThickness="1"
                          BorderBrush="#CCCCCC"
                         >

                    <toolkit:DataGrid.Columns>
                        <toolkit:DataGridTextColumn Header="Kap.Stelle" Binding="{Binding KapStelle}" Width="Auto">
                            <toolkit:DataGridTextColumn.ElementStyle>
                                <StaticResource ResourceKey="DataGridCellTextStyle"/>
                            </toolkit:DataGridTextColumn.ElementStyle>
                            <toolkit:DataGridTextColumn.HeaderStyle>
                                <Style TargetType="ContentControl">
                                    <Setter Property="FontSize" Value="14"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                    <Setter Property="VerticalContentAlignment" Value="Center"/>
                                </Style>
                            </toolkit:DataGridTextColumn.HeaderStyle>
                        </toolkit:DataGridTextColumn>

                        <toolkit:DataGridTextColumn Header="Seite" Binding="{Binding Seite}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="Lage" Binding="{Binding Lage}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="Stückzähler" Binding="{Binding Stueckzaehler}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="Rückm.Nr." Binding="{Binding RueckNr}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="Werkzeug" Binding="{Binding Werkzeug}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="WZ Seite" Binding="{Binding WZSeite}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="Zähler" Binding="{Binding Zaehler}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="Stand Menge" Binding="{Binding StandMenge}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="Restkap." Binding="{Binding Restkap}" Width="Auto"/>

                        <toolkit:DataGridTemplateColumn Header="Verw. Kap" Width="80">
                            <toolkit:DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Border Background="{Binding PercentCellBackground}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch">
                                        <TextBlock Text="{Binding VerwKap}"
                                   Padding="0"
                                   Margin="0"
                                                   FontStretch="Condensed"
                                                   FontSize="14"
                                   TextTrimming="CharacterEllipsis"
                                   TextWrapping="NoWrap"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   FontWeight="Bold"
                                   Foreground="Black"/>
                                    </Border>
                                </DataTemplate>
                            </toolkit:DataGridTemplateColumn.CellTemplate>
                        </toolkit:DataGridTemplateColumn>

                        <toolkit:DataGridTextColumn Header="Geändert am" Binding="{Binding GeaendertAm}" Width="Auto"/>
                        <toolkit:DataGridTextColumn Header="Geändert durch" Binding="{Binding GeaendertDurch}" Width="Auto"/>
                    </toolkit:DataGrid.Columns>
                </toolkit:DataGrid>

            </Grid>
        </Viewbox>

        <!-- TLAČÍTKA -->
        <Viewbox  Grid.Row="1" x:Name="Viewbox" Stretch="Uniform" Height="Auto"  VerticalAlignment="Bottom">
            <Grid x:Name="Container"   Padding="20,12"
                Width="{Binding Source={StaticResource LayoutConfigProxy}, Path=Data.DesignWidth}"
           Background="#F6F6F6"
       >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0" Background="#888"
                            Foreground="White" FontWeight="SemiBold"
                            FontSize="{StaticResource FooterButtonFontSize}"
                            MinWidth="{StaticResource FooterButtonMinWidth}"
                            Height="{StaticResource FooterButtonHeight}"
                            Padding="0,6" BorderThickness="0"
                            Margin="{StaticResource FooterButtonMarginThickness}"
                            CornerRadius="{StaticResource FooterButtonCornerRadius}"
                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Viewbox Height="{StaticResource FooterButtonViewboxHeight}" Stretch="Uniform">
                        <TextBlock Text="Werkzeuge zeigen" TextAlignment="Center"/>
                    </Viewbox>
                </Button>

                <Button Grid.Column="1" Background="#2196F3"
                            Foreground="White" FontWeight="SemiBold"
                            FontSize="{StaticResource FooterButtonFontSize}"
                            MinWidth="{StaticResource FooterButtonMinWidth}"
                            Height="{StaticResource FooterButtonHeight}"
                            Padding="0,6" BorderThickness="0"
                            Margin="{StaticResource FooterButtonMarginThickness}"
                            CornerRadius="{StaticResource FooterButtonCornerRadius}"
                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Viewbox Height="{StaticResource FooterButtonViewboxHeight}" Stretch="Uniform">
                        <TextBlock Text="Hilfsmittel zeigen" TextAlignment="Center"/>
                    </Viewbox>
                </Button>

                <Button Grid.Column="2" Background="#19599A"
                            Foreground="White" FontWeight="Bold"
                            FontSize="{StaticResource FooterButtonFontSize}"
                            MinWidth="{StaticResource FooterButtonMinWidth}"
                            Height="{StaticResource FooterButtonHeight}"
                            Padding="0,6" BorderThickness="0"
                            Margin="{StaticResource FooterButtonMarginThickness}"
                            CornerRadius="{StaticResource FooterButtonCornerRadius}"
                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Viewbox Height="{StaticResource FooterButtonViewboxHeight}" Stretch="Uniform">
                        <TextBlock Text="Werkzeugwechsel" TextAlignment="Center"/>
                    </Viewbox>
                </Button>

                <Button Grid.Column="3" Background="#19599A"
                            Foreground="White" FontWeight="Bold"
                            FontSize="{StaticResource FooterButtonFontSize}"
                            MinWidth="{StaticResource FooterButtonMinWidth}"
                            Height="{StaticResource FooterButtonHeight}"
                            Padding="0,6" BorderThickness="0"
                            Margin="{StaticResource FooterButtonMarginThickness}"
                            CornerRadius="{StaticResource FooterButtonCornerRadius}"
                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Viewbox Height="{StaticResource FooterButtonViewboxHeight}" Stretch="Uniform">
                        <TextBlock Text="Werkzeug Historie" TextAlignment="Center"/>
                    </Viewbox>
                </Button>

                <Button Grid.Column="4" Background="#22b539"
                            Foreground="White" FontWeight="Bold"
                            FontSize="{StaticResource FooterButtonFontSize}"
                            MinWidth="{StaticResource FooterButtonMinWidth}"
                            Height="{StaticResource FooterButtonHeight}"
                            Padding="0,6" BorderThickness="0"
                            Margin="{StaticResource FooterButtonMarginThickness}"
                            CornerRadius="{StaticResource FooterButtonCornerRadius}"
                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Viewbox Height="{StaticResource FooterButtonViewboxHeight}" Stretch="Uniform">
                        <TextBlock Text="WZ-Blatt wechsel" TextAlignment="Center"/>
                    </Viewbox>
                </Button>
            </Grid>
        </Viewbox>
    </Grid>
</UserControl>
